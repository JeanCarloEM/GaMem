if(typeof(window.iniBool)==="undefined"||!window.iniBool){window.iniBool=function(a,b){b=((b!==false)&&(b!==true))?false:b;return((a!==false)&&(a!==true))?b:a}}if(typeof(window.isNum)==="undefined"||!window.isNum){window.isNum=function(a){return(!isNaN(parseFloat(a))&&isFinite(a))}}if(typeof(window.guid)==="undefined"||!window.guid){window.guid=function(){function a(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return"i"+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}if(typeof(window.isNodeList)==="undefined"||!window.isNodeList){window.isNodeList=function(a){var b=Object.prototype.toString.call(a);return typeof a==="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(b)&&(typeof a.length==="number")&&(a.length===0||(typeof a[0]==="object"&&a[0].nodeType>0))}}if(typeof(window.isList)==="undefined"||!window.isList){window.isList=function(a){return(Array.isArray(a)||window.isNodeList(a))}}if(typeof(window.getId)==="undefined"||!window.getId){window.getId=function(a){var b=seletor(a).attr("id");if(!b){b=window.guid();seletor(a).attr("id",b)}return b}}if(typeof(seletor)==="undefined"||!seletor){function seletor(c,b){b=window.iniBool(b);if(typeof c!=="string"){return c}var a=document.querySelectorAll(c);if(a.length===0){return b?[]:false}if(a.length===1){return b?a:a[0]}return a}}(function(a,e,b,d,c){a.bks=["aHR0cHM6Ly9weGhlcmUuY29tL2VuL3Bob3RvLzEzMzAzNQ==.jpg","aHR0cHM6Ly9jb21tb25zLndpa2ltZWRpYS5vcmcvd2lraS9GaWxlOk5BU0EtUmVkRHdhcmZQbGFuZXQtQXJ0aXN0Q29uY2VwdGlvbi0yMDEzMDcyOC5qcGc=.jpg","aHR0cHM6Ly93d3cuanBsLm5hc2EuZ292L3NwYWNlaW1hZ2VzL2RldGFpbHMucGhwP2lkPXBpYTIyMDg1.jpg","aHR0cHM6Ly9hcHBlbC5uYXNhLmdvdi8yMDEyLzA4LzAxL2tlcGxlci10aGUtbG9uZy1yb2FkLXRvLW90aGVyLXdvcmxkcy8=.jpg","aHR0cHM6Ly93d3cuanBsLm5hc2EuZ292L3NwYWNlaW1hZ2VzL2RldGFpbHMucGhwP2lkPXBpYTE1MjU3.jpg","aHR0cHM6Ly9weGhlcmUuY29tL2VuL3Bob3RvLzEyNjQ5NDA=.jpg","aHR0cHM6Ly9jb21tb25zLndpa2ltZWRpYS5vcmcvd2lraS9GaWxlOkFfUGxhbmV0X2FzX0JpZ19hc19JdHNfU3Rhci5qcGc=.jpg","aHR0cHM6Ly93d3cubmFzYS5nb3YvbWlzc2lvbl9wYWdlcy9XSVNFL25ld3Mvd2lzZTIwMTIwNzA1Lmh0bWw=.jpg","aHR0cHM6Ly9jb21tb25zLndpa2ltZWRpYS5vcmcvd2lraS9GaWxlOlRoZV9kb3VibGVfYXN0ZXJvaWRfOTBfQW50aW9wZV8tX0VzbzA3MThhXyhub190YWdsaW5lKS5qcGc=.jpg"];a.css=function(h,f,k){if((typeof f==="string")&&(typeof k==="string")&&f&&k){h=a.isList(h)?h:[e(h)];for(var g=0;g<h.length;g++){if(typeof h[g]==="object"){var j=new RegExp("([s]*"+f+":[^;]*;[s]*)","ig");h[g].attr("style",((h[g].attr("style"))&&a.isList(h[g].attr("style").match(j)))?h[g].attr("style").replace(j,f+":"+k+";"):h[g].attr("style")+f+":"+k+";")}}}else{return false}return true};HTMLElement.prototype.stop=function(){if(this.tagName.toLowerCase()==="audio"){this.pause();this.currentTime=0}};HTMLElement.prototype.css=function(f,g){if(!g){var h=new RegExp("([s]*"+f+":[^;]*;[s]*)","i");return(this.attr("style"))?this.attr("style").match(h,f+":"+g+";"):""}else{return a.css(this,f,g)}};a.hasClass=function(h,f){h=a.isList(h)?h:[e(h)];for(var g=0;g<h.length;g++){if(typeof h[g]==="object"){if(!(!!h[g].className.match(new RegExp("(\\s|^)"+f+"(\\s|$)")))){return false}}}return true};HTMLElement.prototype.hasClass=function(f){return a.hasClass(this,f)};a.addClass=function(h,f){h=a.isList(h)?h:[e(h)];for(var g=0;g<h.length;g++){if(typeof h[g]==="object"){if(!a.hasClass(h[g],f)){h[g].className+=" "+f}}}};HTMLElement.prototype.addClass=function(f){return a.addClass(this,f)};a.removeClass=function(j,f){j=a.isList(j)?j:[e(j)];for(var g=0;g<j.length;g++){if(typeof j[g]==="object"){if(a.hasClass(j[g],f)){var h=new RegExp("(\\s|^)[ ]*"+f+"[ ]*(\\s|$)");j[g].className=j[g].className.replace(h," ")}}}};HTMLElement.prototype.removeClass=function(f){return a.removeClass(this,f)};HTMLElement.prototype.getId=function(){return a.getId(this)};HTMLElement.prototype.attr=function(f,g){if((!g)&&(g!==null)){return(this.getAttribute(f)===null)?"":this.getAttribute(f)}else{if(g===null){return this.removeAttribute(f)}else{return this.setAttribute(f,g)}}};a.exibir=function(g,h,f){f=a.iniBool(f,true);if(h){e(g).css("display","block");e(g).addClass("exibir");e(g).removeClass("ocultar")}else{e(g).addClass("ocultar");e(g).removeClass("exibir");e(g).removeClass("show");if(f){a.setTimeout('window.css(seletor("#'+a.getId(e(g))+'"), "display", "none");',1000)}else{e(g).css("display","none")}}};HTMLElement.prototype.exibir=function(f){return a.exibir(this,f)};a.clock=function(){if(e("body").attr("startCron")){var f=parseInt(e("body").attr("startCron"));f--;if(f<=0){e(a.game.t).addClass("ativo");e(a.game.t).removeClass("forceShowPecas");e("body").attr("startCron",null)}else{e("body").attr("startCron",f)}}else{if(e("body").attr("surv")){var f=parseInt(e("body").attr("surv"));f--;if(f<=0){e("body").attr("surv",null);a.game.time()}else{e("body").attr("surv",f)}}}if(a.isNum(f)){a.contador(e("div.top .contador").getId(),f)}a.setTimeout("window.clock();",1000)};a.contador=function(k,g){var f=g;g="000".substring(0,3-(g+"").length)+g;for(var j=(g.length-1);j>=0;j--){var h=g.length-j;e("#"+k+" .num.d"+h+" > img").attr("src","assets/img/nums/"+g[j]+".svg")}};a.loader=function(f){f=a.iniBool(f);if(f){e("body > div.loading").exibir(true);e("body > section").exibir(false)}else{e("body > div.loading").exibir(false);e("body > section").exibir(true)}};a.assetLoader=function(){var f=e("audio",true).length+e("img",true).length;a.assetsCount=((a.assetsCount)?a.assetsCount:0)+1;this.attr("loaded",true);if(e(this).hasClass("gameFundo")){e("body > section.game > div.gameFundo").attr("style","background: url('"+e("#bkPreloader").attr("src")+"');");this.removeClass()}e("body > div.loadbar").css("width",((a.assetsCount/f)*100)+"% !important");if(this.hasClass("gameparts")){this.attr("style","display: none;")}if(a.assetsCount>=f){a.setTimeout("window.start();",1000)}};a.start=function(){a.loader(false);e("body > header.principal").removeClass("ocultar");e("body > div.loadbar").addClass("ocultar");a.resetSom();e("body > div.preloads audio.music").play()};a.resetSom=function(){a.controlVolUpdate(a.isNum(a.store("som_music"))?a.store("som_music"):2,"music");a.controlVolUpdate(a.isNum(a.store("som_fx"))?a.store("som_fx"):9,"fx")};a.store=function(f,h){try{if(typeof h==="undefined"){if(Array.isArray(a.localStorage)||((typeof a.localStorage==="object")&&(typeof a.localStorage.getItem!=="function"))){return a.localStorage[f]}return a.localStorage.getItem(f)}else{if(Array.isArray(a.localStorage)||((typeof a.localStorage==="object")&&(typeof a.localStorage.setItem!=="function"))){a.localStorage[f]=h}else{a.localStorage.setItem(f,h)}}}catch(g){a.__DB=Array.isArray(a.__DB)?a.__DB:[];if(typeof h==="undefined"){return a.__DB[f]}else{a.__DB[f]=h}}};a.bkLoader=function(){if(e("body").attr("lkStart")===1){e("body").attr("lkStart",1)}else{var g=document.createElement("img");g.attr("class","ocultar gameFundo");g.attr("id","bkPreloader");g.attr("style","width: 10px;");g.attr("src","assets/img/bk/"+a.bks[Math.floor(Math.random()*a.bks.length)]);e("body > section.game").appendChild(g)}for(var f=0;f<e("img").length;f++){if(e("img")[f].complete){a.assetLoader.call(e("img")[f])}else{e("img")[f].addEventListener("load",a.assetLoader,false)}}for(var f=0;f<e("audio").length;f++){if(e("audio")[f].readyState===4){a.assetLoader.call(e("audio")[f])}else{e("audio")[f].onloadeddata=a.assetLoader}}for(var f=0;f<GaMem.prototype.parts.length;f++){var g=document.createElement("img");g.attr("class","gameparts ocultar c"+GaMem.prototype.parts[f].charCodeAt());g.addEventListener("load",a.assetLoader,false);g.attr("src","assets/img/ico/space/"+GaMem.prototype.parts[f].charCodeAt()+".svg");e("body > div.preloads").appendChild(g)}};a.tela=function(f){a.game.tela(f)};a.showTabuleiro=function(){a.game.showTabuleiro()};a.showSplash=function(){a.game.showSplash()};a.showGameOver=function(){a.game.showGameOver()};a.showWins=function(f){a.game.showWins()};a.reset=function(){a.game.reset()};a.controlVolUpdate=function(h,i){h=Math.floor(h);i=(typeof i!=="string")?"music":i;a.store("som_"+i,h);if(i==="music"){e("body > div.preloads audio.music").volume=h>0?(h/10):0}else{var f=e("body > div.preloads div.fx audio",true);for(var j=0;j<f.length;j++){f[j].volume=h>0?(h/10):0}if(a.game){var f=e("#"+e(a.game.t).getId()+" audio",true);for(var j=0;j<f.length;j++){f[j].volume=h>0?(h/10):0}}}a.removeClass(e("body > section > aside.volume."+i+" td > div",true),"ativo");for(var j=0;j<=h;j++){e("body > section > aside.volume."+i+" td > div[data-vol='"+j+"']").addClass("ativo")}};document.addEventListener("DOMContentLoaded",function(){a.bkLoader();a.setTimeout("window.clock();",1000);for(var g=0;g<e("body > section > aside.volume td > div",true).length;g++){e("body > section > aside.volume td > div",true)[g].addEventListener("click",function(){var h=this;while((!h.hasClass("volume"))&&(h.tagName.toLowerCase()!=="body")){h=h.parentNode}h=(h.tagName.toLowerCase()!=="body")?(h.hasClass("music")?"music":"fx"):"music";a.controlVolUpdate((this.attr("data-vol")==="0")?0:parseInt(this.attr("data-vol")),h)},false)}var f=e(".menu > .btb");for(var g=0;g<f.length;g++){f[g].addEventListener("click",function(){if(this.hasClass("continuar")){a.addClass(e(a.game.t),"ativo");a.exibir(e(a.game.t),true);a.exibir(e(a.game.hud),true);a.exibir(e(a.game.splash),false)}else{if(this.hasClass("mp")){if((!this.hasClass("p2"))&&(!this.hasClass("surv"))){this.addClass("p2")}else{if(this.hasClass("p2")){this.removeClass("p2");this.addClass("surv")}else{if(this.hasClass("surv")){this.removeClass("p2");this.removeClass("surv")}}}}else{b("> Criando jogo com "+this.attr("data-q")+" elementos.");var h=1;if(e(".menu > .btb.mp").hasClass("p2")){h=2}else{if(e(".menu > .btb.mp").hasClass("surv")){h=0}}window.game=new GaMem(this.attr("data-q"),".quadro > .tabuleiro",".quadro > .splash","section.game > .hud",".quadro > .wins",".quadro > .gameover",".p1 .contador",".p2 .contador",".wins .pontos .contador",h)}}},false)}e(".hud .ico.menu").addEventListener("click",function(){a.removeClass(e(a.game.t),"ativo");a.showSplash()},false);e(".quadro .gomenu").forEach(function(h){h.addEventListener("click",function(){e("body > div.preloads audio.music").play();e("body > div.preloads audio.gameover").stop();e("body > div.preloads audio.vitoria").stop();a.removeClass(e(a.game.t),"ativo");a.game.reset();a.showSplash()},false)})},false)}(window,seletor,function(a){return console.log(a)},function(a){return console.warn(a)},function(a){return console.error(a)}));if(typeof(GaMem)==="undefined"||!GaMem){function GaMem(i,f,j,g,e,d,c,b,a,h){this.constructor(i,f,j,g,e,d,c,b,a,h)}(function(a,e,f,b,d,c){f.parts=("abcdefghijklmnopqruvxywzABCDEFGHIJKLMNOPQRSTUVXYWZ").split("");f.qtd=8;f.t=null;f.rand=function(h,g){return Math.floor(Math.random()*g)+h};f.shuffle=function(j){var i=j.length,h,g;while(0!==i){g=f.rand(0,i);i-=1;h=j[i];j[i]=j[g];j[g]=h}return j};f.tela=function(g){a.exibir(e(f.t),false,false);a.exibir(e(f.hud),false,false);a.exibir(e(f.splash),false,false);a.exibir(e(f.gameover),false,false);a.exibir(e(f.wins),false,false);switch(g){case 0:a.exibir(e(f.t),true);a.exibir(e(f.hud),true);break;case 1:a.exibir(e(f.splash),true);break;case 2:a.exibir(e(f.gameover),true);break;case 3:a.exibir(e(f.wins),true);break}};f.showTabuleiro=function(){f.tela(0)};f.showSplash=function(){f.tela(1)};f.showGameOver=function(){f.tela(2);e("body > div.preloads > audio.music").stop();e("body > div.preloads > div.fx > audio.gameover").play()};f.showWins=function(g){f.tela(3);e("body > div.preloads > audio.music").stop();e("body > div.preloads > div.fx > audio.vitoria").play()};f.reset=function(){e("body").attr("p",null);e("body").attr("surv",null);e("body").attr("startcron",null);e("body").attr("wins",null);e("body").attr("multi",null);e("body").removeClass("jogando");e(f.t).removeClass("ativo");e(f.t).removeClass("forceShowPecas")};f.time=function(){if(e("#"+e(f.t).getId()+" .celula:not(.achado)",true).length>0){f.showGameOver()}};f.constructor=function(u,n,v,o,m,l,k,h,g,r){if(!((typeof n==="string")&&(typeof e(n)==="object")&&e(n).tagName)){alert("Erro interno [1].");c("[ERRO] GaMem :: O elemento TABULEIRO para construção do jogo NÃO é válido.");return}if(!((typeof v==="string")&&(typeof e(v)==="object")&&e(v).tagName)){alert("Erro interno [2].");c("[ERRO] GaMem :: O elemento SPLASH do jogo NÃO é válido.");return}if(!((typeof o==="string")&&(typeof e(o)==="object")&&e(o).tagName)){alert("Erro interno [3].");c("[ERRO] GaMem :: O elemento HUD do jogo NÃO é válido.");return}if(!((typeof l==="string")&&(typeof e(l)==="object")&&e(l).tagName)){alert("Erro interno [3].");c("[ERRO] GaMem :: O elemento GAMEOVER 1 do jogo NÃO é válido.");return}if(!((typeof m==="string")&&(typeof e(m)==="object")&&e(m).tagName)){alert("Erro interno [3].");c("[ERRO] GaMem :: O elemento WINS 1 do jogo NÃO é válido.");return}if(!((typeof k==="string")&&(typeof e(k)==="object")&&e(k).tagName)){alert("Erro interno [3].");c("[ERRO] GaMem :: O elemento CONTADOR 1 do jogo NÃO é válido.");return}if(!((typeof h==="string")&&(typeof e(h)==="object")&&e(h).tagName)){alert("Erro interno [3].");c("[ERRO] GaMem :: O elemento CONTADOR 2 do jogo NÃO é válido.");return}if(!((typeof g==="string")&&(typeof e(g)==="object")&&e(g).tagName)){alert("Erro interno [3].");c("[ERRO] GaMem :: O elemento CONTADOR Wins do jogo NÃO é válido.");return}f.pontos=[0,0];f.cont=[k,h,g];f.t=n;f.splash=v;f.hud=o;f.wins=m;f.gameover=l;a.getId(f.t);a.getId(f.splash);a.getId(f.hud);a.getId(f.wins);a.getId(f.gameover);if(((u*u)%2)!==0){d("[AVISO] GaMem :: A resolucao do jogo ["+u+"], gera "+(u*u)+" quadros, que por NÃO ser divisível por 2, é impossível construir. Usando resolução 4.")}f.qtd=(a.isNum(u)&&(u>=2)&&(((u*u)%2)===0))?u:4;e(f.t).innerHTML="";var q=f.shuffle(f.parts).slice(0,((f.qtd*f.qtd)/2));q=f.shuffle(f.shuffle(f.shuffle(f.shuffle(q).concat(f.shuffle(q)))));var y=(100/f.qtd);a.contador(e(f.cont[0]).getId(),0);a.contador(e(f.cont[1]).getId(),0);a.contador(e(f.cont[2]).getId(),0);for(var j=0;j<q.length;j++){var p=document.createElement("div");p.attr("class","celula c"+q[j].charCodeAt());p.attr("char",q[j]);p.attr("ascii",q[j].charCodeAt());p.attr("style","width:"+y+"%;height:"+y+"%;");p.innerHTML=e("body > div.preloads > div.fx div.cell").innerHTML;var w=document.createElement("div");w.attr("class","item");w.attr("ascii",q[j].charCodeAt());p.appendChild(w);var x=document.createElement("span");x.innerHTML=q[j];w.appendChild(x);e(f.t).appendChild(p);p.addEventListener("mouseenter",function(){if((!this.hasClass("selecionado"))&&(!this.hasClass("achado"))&&(e(f.t).hasClass("ativo"))&&(e("body").hasClass("jogando"))&&(e("#"+e(f.t).getId()+" .selecionado",true).length<2)){a.setTimeout('seletor("#'+this.getId()+' audio.over").play();',50)}},false);p.addEventListener("click",function(){if((!this.hasClass("selecionado"))&&(!this.hasClass("achado"))&&(e(f.t).hasClass("ativo"))&&(e("body").hasClass("jogando"))&&(e("#"+e(f.t).getId()+" .selecionado",true).length<2)){a.setTimeout('seletor("#'+this.getId()+' audio.click").play();',20)}if((e("body").hasClass("jogando"))&&(e(f.t).hasClass("ativo"))&&(!e(f.t).hasClass("pausado"))&&(!this.hasClass("achado"))){var i=e("#"+e(f.t).getId()+" .celula.selecionado",true);if((i.length>=0)&&(i.length<=1)){this.addClass("selecionado")}i=e("#"+e(f.t).getId()+" .celula.selecionado",true);if(i.length===2){var t=parseInt(e("body").attr("p"))-1;t=t<0?0:t;if(i[0].attr("ascii")===i[1].attr("ascii")){a.setTimeout('seletor("body > div.preloads > div.fx > audio.achado").play();',20);a.addClass(e("#"+e(f.t).getId()+" .celula.selecionado",true),"achado");if(t===1){a.addClass(e("#"+e(f.t).getId()+" .celula.selecionado",true),"p2")}a.removeClass(e("#"+e(f.t).getId()+" .celula.selecionado",true),"selecionado");f.pontos[t]+=10;if(e("#"+e(f.t).getId()+" .celula:not(.achado)",true).length<=0){var s=(f.pontos[0]>f.pontos[1]?0:(f.pontos[1]>f.pontos[0]?1:-1))+1;if(s===0){f.reset();f.showGameOver()}else{f.pontos[t]=f.pontos[t]>0?f.pontos[t]:0;a.contador(e(f.cont[t]).getId(),f.pontos[t]);e("body").attr("surv",null);a.contador(e(f.cont[2]).getId(),f.pontos[s-1]);a.setTimeout("window.reset();seletor('body').attr('wins', "+s+");window.showWins("+f.pontos[s-1]+");",1000)}}}else{a.setTimeout('seletor("body > div.preloads > div.fx > audio.error").play();',600);e(f.t).addClass("pausado");a.setTimeout('window.removeClass(seletor("#'+e(f.t).getId()+' .celula.selecionado", true), "selecionado");',1000);a.setTimeout("seletor('#"+e(f.t).getId()+"').removeClass('pausado');",1100);f.pontos[t]-=5;if(e("body").attr("multi")){if((t+1)===1){e("body").attr("p",2)}else{e("body").attr("p",1)}}}f.pontos[t]=f.pontos[t]>0?f.pontos[t]:0;a.contador(e(f.cont[t]).getId(),f.pontos[t])}}},false)}f.reset();if(r===0){e("body").attr("surv",(f.qtd*f.qtd*3))}else{if(r===2){e("body").attr("multi",2)}}e(f.t).addClass("forceShowPecas");e("body").attr("p",1);e("body").attr("wins",null);e("body").addClass("jogando");e("body").attr("startCron",Math.round(f.qtd*f.qtd*0.15+0.5));f.showTabuleiro();a.setTimeout("window.resetSom();",500)}}(window,seletor,GaMem.prototype,function(a){return console.log(a)},function(a){return console.warn(a)},function(a){return console.error(a)}))};